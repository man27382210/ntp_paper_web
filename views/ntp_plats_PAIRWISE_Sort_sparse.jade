extends layout

block body_content
	.page_use
		table(cellpadding="0" cellspacing="0" border="0" class="display" id="demo")

	script.

		$(function(){
			var dataSetUse = !{JSON.stringify(ctrl_plats)};
			var columns = [];
			var columnDefs = [];
			columns.push({ "title": "議員名字"});
			columnDefs.push({ "width": "10%", "targets": 0 });
			for (var i =0 ; i<638; i++){
				columns.push({ "title": "政見"+(i+1)});
				columnDefs.push({ "width": "10%", "targets": i+1});
			}
			console.log(columns.length);
			$('#demo').dataTable({
				"data": dataSetUse,
				"iDisplayLength": dataSetUse.length,
				"width": '90%',
				"columnDefs": columnDefs,
				"columns": columns
			});
		});